PROCEDURE CARGA_A_CALENDARIO(P_DT_COMPETENCIA IN DATE) IS
    --
    I          NUMBER;
    ULTIMO_DIA NUMBER;
    --
  BEGIN
    --
    EXECUTE IMMEDIATE 'TRUNCATE TABLE SIA.A_CALENDARIO';
    --
    SELECT TO_CHAR(LAST_DAY(P_DT_COMPETENCIA), 'DD')
      INTO ULTIMO_DIA
      FROM DUAL;
    --
IF ULTIMO_DIA >= 30 THEN
      ULTIMO_DIA := 30;
    END IF;
    --
    FOR I IN 1 .. ULTIMO_DIA
    LOOP
      --
      INSERT INTO SIA.A_CALENDARIO
        (COD_DIA_SEMANA,DT_DIA_MES)
      VALUES
        (TO_CHAR(TO_DATE(I || TO_CHAR(P_DT_COMPETENCIA, '/MM/YYYY'), 'DD/MM/YYYY'), 'D')
        ,TO_DATE(I || TO_CHAR(P_DT_COMPETENCIA, '/MM/YYYY'), 'DD/MM/YYYY'));
      --
    END LOOP;
    --
    COMMIT;
  EXCEPTION
  WHEN OTHERS THEN
      NULL;
  END CARGA_A_CALENDARIO;